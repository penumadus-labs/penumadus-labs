{"version":3,"sources":["WifiForm.js","index.js"],"names":["Div","styled","div","WifiForm","props","state","wifiName","wifiPass","error","wifiSent","error_val","SSIDs","handleChange","bind","handleSubmit","fetch","then","response","json","data","setState","catch","this","getData","evt","target","name","value","console","log","event","preventDefault","axios","method","url","headers","result","sent","message","tifOptions","Object","keys","map","key","onSubmit","htmlFor","onChange","type","React","Component","ReactDOM","render","document","getElementById"],"mappings":"wdAKA,IAIMA,EAAMC,IAAOC,IAAV,KAuGMC,E,kDA7Fb,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IACDC,MAAQ,CACTC,SAAU,GACVC,SAAU,GACVC,MAAO,GACPC,UAAU,EACVC,UAAW,KACXC,MAAQ,IAEZ,EAAKC,aAAe,EAAKA,aAAaC,KAAlB,gBACpB,EAAKC,aAAe,EAAKA,aAAaD,KAAlB,gBAXH,E,sDAcT,IAAD,OAEPE,MA9Be,sBA+BdC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAM,SAACG,GACJ,EAAKC,SAAU,CAACT,MAAQQ,OAE3BE,OAAM,SAASb,GAEJ,4B,0CAKZc,KAAKC,Y,mCAIKC,GAEZF,KAAKF,SAAL,eAAiBI,EAAIC,OAAOC,KAAOF,EAAIC,OAAOE,QAC9CC,QAAQC,IAAIP,KAAKjB,S,mCAGJyB,GAAO,IAAD,OAEjBF,QAAQC,IAAIP,KAAKjB,OACjByB,EAAMC,iBACNC,IAAM,CACJC,OAAO,OACPC,IAAI,GAAD,OAzDU,yBA0DbC,QAAS,CAAC,eAAiB,oBAC3BhB,KAAMG,KAAKjB,QAEZW,MAAK,SAAAoB,GACJ,EAAKhB,SAAS,CACZX,SAAU2B,EAAOjB,KAAKkB,KACtB3B,UAAW0B,EAAOjB,KAAKT,UACvBF,MAAO4B,EAAOjB,KAAKX,WAGtBa,OAAM,SAAAb,GAAK,OAAI,EAAKY,SAAS,CAACZ,MAAOA,EAAM8B,e,+BAIpC,IAAD,OAEDC,EAAaC,OAAOC,KAAKnB,KAAKjB,MAAMM,OAAO+B,KAAI,SAAAC,GAAG,OACtD,4BAAQhB,MAAO,EAAKtB,MAAMM,MAAMgC,IAAO,EAAKtC,MAAMM,MAAMgC,OAE1D,OAEE,kBAAC3C,EAAD,KACE,uDACA,6BACA,0BAAM4C,SAAYtB,KAAKR,cACrB,2BAAO+B,QAAU,YAAjB,2BAEM,4BAAQnB,KAAO,WAAWoB,SAAYxB,KAAKV,cAC3C,8DACC2B,IAGP,6BACA,6BACA,sDAEE,2BAAOQ,KAAO,WAAWrB,KAAO,WAAWC,MAASL,KAAKjB,MAAME,SAAUuC,SAAYxB,KAAKV,gBAE5F,6BACA,2BAAOmC,KAAO,SAASpB,MAAQ,WAC/B,6BAAML,KAAKjB,MAAMK,WAAa,0FAC9B,8BAA+B,IAAzBY,KAAKjB,MAAMK,WAAuB,gE,GAvF3BsC,IAAMC,WCX7BC,IAASC,OAAQ,kBAAC,EAAD,MAAcC,SAASC,eAAe,U","file":"static/js/main.d8518e32.chunk.js","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport './index.css';\nimport styled from 'styled-components';\n\nconst API_PATH_1 = \"/api/wifi_list.php\";\nconst API_PATH_2 = \"/api/process_wifi.php\";\n\n\nconst Div = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  margin: auto;\n  width: 50%;\n`;\n\nclass WifiForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n        wifiName: '',\n        wifiPass: '',\n        error: \"\",\n        wifiSent: false,\n        error_val: null,\n        SSIDs : {}\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  getData(){\n    //fetch the data from the api\n    fetch(API_PATH_1)\n    .then(response => response.json())\n    .then( (data) => {\n        this.setState( {SSIDs : data})\n    })\n    .catch(function(error) {\n        //console.log(\"Error occured\");\n        error = \"Unable to get SSIDs\";\n    })\n}\n\ncomponentDidMount(){\n    this.getData();\n}\n\n\nhandleChange (evt) {\n  //evt is the evt.target.name which is the name of the field and value is the data we need\n  this.setState({ [evt.target.name]: evt.target.value });\n  console.log(this.state);\n}\n\n  handleSubmit(event){\n    //alert('wifi: ' + this.state.wifiName + \" pass: \" + this.state.wifiPass);\n    console.log(this.state);\n    event.preventDefault();\n    axios({\n      method:'post',\n      url: `${API_PATH_2}`,\n      headers: {'content-type' : 'application/json'},\n      data: this.state\n    })\n    .then(result=> {\n      this.setState({\n        wifiSent: result.data.sent,\n        error_val: result.data.error_val,\n        error: result.data.error\n      })\n    })\n    .catch(error => this.setState({error: error.message }));\n  }\n\n\n  render() {\n    \n    const tifOptions = Object.keys(this.state.SSIDs).map(key => \n      <option value={this.state.SSIDs[key]}>{this.state.SSIDs[key]}</option>)\n\n    return (\n     \n      <Div>\n        <h1>Welcome to HankConnect!</h1>\n        < br/>\n        <form onSubmit = {this.handleSubmit}>\n          <label htmlFor = \"wifiName\">\n                Enter wifi network name: \n                <select name = \"wifiName\" onChange = {this.handleChange}>\n                <option>Select wifi from list...  </option>\n                {tifOptions}\n                </select>\n          </label>  \n          <br />\n          <br />\n          <label>\n            Enter wifi password: \n            <input type = 'password' name = 'wifiPass' value = {this.state.wifiPass} onChange = {this.handleChange} />\n          </label>\n          <br />\n          <input type = \"submit\" value = \"Submit\" />\n          <div>{this.state.error_val && <p>Error occurred. Please try again or contact administrator.</p>}</div>\n          <div>{this.state.error_val === false && <p>Wifi updated successfully.</p>}</div>\n        </form>\n      </Div>\n    );\n  }\n}\n\nexport default WifiForm;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './index.css';\r\n\r\nimport WifiForm from './WifiForm';\r\n\r\nReactDOM.render( <WifiForm />, document.getElementById('root'));\r\n"],"sourceRoot":""}