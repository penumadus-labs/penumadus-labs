{"version":3,"sources":["WifiForm.js","index.js"],"names":["Div","styled","div","WifiForm","props","state","wifiName","wifiPass","error","wifiSent","message","SSIDs","handleChange","bind","handleSubmit","fetch","then","response","json","data","setState","catch","console","log","this","getData","evt","target","name","value","event","alert","preventDefault","axios","method","url","headers","result","sent","tifOptions","Object","keys","map","key","onSubmit","for","onChange","type","React","Component","ReactDOM","render","document","getElementById"],"mappings":"wdAKA,IAGMA,EAAMC,IAAOC,IAAV,KAoGMC,E,kDA1Fb,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IACDC,MAAQ,CACTC,SAAU,GACVC,SAAU,GACVC,MAAO,KACPC,UAAU,EACVC,QAAS,GACTC,MAAQ,IAEZ,EAAKC,aAAe,EAAKA,aAAaC,KAAlB,gBACpB,EAAKC,aAAe,EAAKA,aAAaD,KAAlB,gBAXH,E,sDAcT,IAAD,OAEPE,MA7Be,sBA8BdC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAM,SAACG,GACJ,EAAKC,SAAU,CAACT,MAAQQ,OAE3BE,OAAM,SAASb,GACZc,QAAQC,IAAIf,Q,0CAKhBgB,KAAKC,Y,mCAIOC,GAEZF,KAAKJ,SAAL,eAAiBM,EAAIC,OAAOC,KAAOF,EAAIC,OAAOE,U,mCAInCC,GAAO,IAAD,OACjBC,MAAM,SAAWP,KAAKnB,MAAMC,SAAW,UAAYkB,KAAKnB,MAAME,UAC9De,QAAQC,IAAIC,KAAKnB,OACjByB,EAAME,iBACNC,IAAM,CACJC,OAAO,OACPC,IAAI,GAAD,OAvDU,yBAwDbC,QAAS,CAAC,eAAiB,oBAC3BjB,KAAMK,KAAKnB,QAEZW,MAAK,SAAAqB,GACJ,EAAKjB,SAAS,CACZX,SAAU4B,EAAOlB,KAAKmB,UAGzBjB,OAAM,SAAAb,GAAK,OAAI,EAAKY,SAAS,CAACZ,MAAOA,EAAME,e,+BAIpC,IAAD,OAED6B,EAAaC,OAAOC,KAAKjB,KAAKnB,MAAMM,OAAO+B,KAAI,SAAAC,GAAG,OACtD,4BAAQd,MAAO,EAAKxB,MAAMM,MAAMgC,IAAO,EAAKtC,MAAMM,MAAMgC,OAE1D,OAEE,kBAAC3C,EAAD,KACE,uDACA,6BACA,0BAAM4C,SAAYpB,KAAKV,cACrB,2BAAO+B,IAAM,YAAb,2BAEM,4BAAQjB,KAAO,WAAWkB,SAAYtB,KAAKZ,cAC3C,8DACC2B,IAGP,6BACA,6BACA,sDAEE,2BAAOQ,KAAO,WAAWnB,KAAO,WAAWC,MAASL,KAAKnB,MAAME,SAAUuC,SAAYtB,KAAKZ,gBAE5F,6BACA,2BAAOmC,KAAO,SAASlB,MAAQ,WAE/B,iCAAOL,KAAKnB,MAAMI,UAAY,qD,GApFjBuC,IAAMC,WCV7BC,IAASC,OAAQ,kBAAC,EAAD,MAAcC,SAASC,eAAe,U","file":"static/js/main.d1508ace.chunk.js","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport './index.css';\nimport styled from 'styled-components';\n\nconst API_PATH_1 = \"/api/wifi_list.php\";\nconst API_PATH_2 = \"/api/process_wifi.php\";\n\nconst Div = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  margin: auto;\n  width: 50%;\n`;\n\nclass WifiForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n        wifiName: '',\n        wifiPass: '',\n        error: null,\n        wifiSent: false,\n        message: \"\",\n        SSIDs : {}\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n  \n  getData(){\n    //fetch the data from the api\n    fetch(API_PATH_1)\n    .then(response => response.json())\n    .then( (data) => {\n        this.setState( {SSIDs : data})\n    })\n    .catch(function(error) {\n        console.log(error);\n    })\n}\n\ncomponentDidMount(){\n    this.getData();\n}\n\n\n  handleChange (evt) {\n    //evt is the evt.target.name which is the name of the field and value is the data we need\n    this.setState({ [evt.target.name]: evt.target.value });\n    \n  }\n\n  handleSubmit(event){\n    alert('wifi: ' + this.state.wifiName + \" pass: \" + this.state.wifiPass);\n    console.log(this.state);\n    event.preventDefault();\n    axios({\n      method:'post',\n      url: `${API_PATH_2}`,\n      headers: {'content-type' : 'application/json'},\n      data: this.state\n    })\n    .then(result=> {\n      this.setState({\n        wifiSent: result.data.sent,\n      })\n    })\n    .catch(error => this.setState({error: error.message }));\n  }\n\n\n  render() {\n    \n    const tifOptions = Object.keys(this.state.SSIDs).map(key => \n      <option value={this.state.SSIDs[key]}>{this.state.SSIDs[key]}</option>)\n\n    return (\n     \n      <Div>\n        <h1>Welcome to HankConnect!</h1>\n        < br/>\n        <form onSubmit = {this.handleSubmit}>\n          <label for = \"wifiName\">\n                Enter wifi network name: \n                <select name = \"wifiName\" onChange = {this.handleChange}>\n                <option>Select wifi from list...  </option>\n                {tifOptions}\n                </select>\n          </label>  \n          <br />\n          <br />\n          <label>\n            Enter wifi password: \n            <input type = 'password' name = 'wifiPass' value = {this.state.wifiPass} onChange = {this.handleChange} />\n          </label>\n          <br />\n          <input type = \"submit\" value = \"Submit\" />\n\n          <div> {this.state.wifiSent && <p>Wifi submitted.</p>}</div>\n        </form>\n      </Div>\n    );\n  }\n}\n\nexport default WifiForm;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './index.css';\r\n\r\nimport WifiForm from './WifiForm';\r\n\r\nReactDOM.render( <WifiForm />, document.getElementById('root'));\r\n"],"sourceRoot":""}