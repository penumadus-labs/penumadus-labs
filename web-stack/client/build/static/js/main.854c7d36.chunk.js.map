{"version":3,"sources":["layout/header.jsx","components/ui/button.jsx","utils/auth.js","style/mixins.js","style/breakpoints.js","style/theme.js","style/mediaqueries.js","routes/login.jsx","routes/callback.jsx","routes/404.jsx","routes/navigate-root.jsx","utils/api.js","context/database/reducer.js","context/database/actions.js","context/database/database.jsx","hooks/use-async-reducer.js","utils/responsive.js","layout/nav-bar-link.jsx","layout/nav-bar.jsx","components/ui/select.jsx","components/ui/device-select.jsx","hooks/use-database-context.js","utils/data.js","components/ui/download.jsx","components/card.jsx","components/error.jsx","layout/status-bar.jsx","layout/main.jsx","layout/layout.jsx","utils/replace-deprecated-methods.js","components/line-chart.jsx","routes/admin/charts.jsx","components/ui/input.jsx","components/ui/settings.jsx","components/ui/alert.jsx","components/ui/summary.jsx","utils/validate-settings.js","routes/admin/control-panel.jsx","hooks/use-settings.js","routes/admin/register.jsx","routes/admin/logout.jsx","routes/router.jsx","app.jsx","index.js"],"names":["Root","styled","header","theme","mediaQueries","layout","height","font","size","heading","color","navBackground","border","spacing","lg","Header","children","button","mixins","clickable","style","shape","buttonHeight","sm","Button","onClick","isBrowser","window","auth","auth0","WebAuth","domain","process","clientID","redirectUri","location","origin","responseType","scope","login","authorize","endSession","localStorage","removeItem","handleAuthentication","parseHash","err","authResult","console","error","accessToken","idToken","expiresAt","JSON","stringify","expiresIn","Date","getTime","setItem","setSession","navigate","reset","centerChild","breakpoints","md","Object","entries","reduce","acc","key","value","background","icon","hover","active","selected","green","blue","red","link","text","family","leterSpacing","xs","navbar","borderRadius","zIndex","letterSpacing","card","div","useEffect","api","axios","create","headers","Accept","baseURL","settings","name","unit","getDevices","a","getSettings","getData","Promise","all","get","responses","log","forEach","Error","map","data","initialState","devices","createActions","disptach","type","toString","updateSettings","selectDevice","state","action","result","index","getError","find","DatabaseContext","createContext","DatabaseContextProvider","reducer","useReducer","useMemo","useAsyncReducer","actions","Provider","responsive","innerWidth","undefined","default","Link","NavBarLink","Icon","label","to","toLowerCase","split","join","nav","NavBar","width","Chart","Dash","Devices","Logout","options","handleSelect","useState","toggled","setToggled","handleKeyDown","className","onKeyDown","role","tabIndex","filter","item","SelectProps","select","target","useDatabaseContextState","useContext","filterData","keys","obj","filtered","file","csv","encodeURIComponent","href","download","Menu","Status","p","useDatabaseContext","main","Main","Layout","list","prototype","componentDidUpdate","componentWillReceiveProps","replace","LineChart","Line","dataKey","margin","left","right","dot","stroke","hum","temp","onChange","form","Setting","Warning","onSubmit","warning","current","handleChange","Alert","onAccept","onCancel","isNaN","Proxy","hasOwnProperty","alert","setAlert","setWarning","update","setList","ref","validate","useSettings","length","e","every","props","some","authorized","hostname","parse","getItem","checkAuth","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.854c7d36.chunk.js","sourcesContent":["import React from 'react'\nimport styled from 'styled-components'\n\nconst Root = styled.header`\ndisplay: flex;\nalign-items: center;\n\n${({ theme }) => theme.mediaQueries.layout} {\n  justify-content: center;\n}\n\nheight: ${({ theme }) => theme.layout.header.height};\nfont-size: ${({ theme }) => theme.font.size.heading};\nbackground: ${({ theme }) => theme.color.navBackground};\n\n/* border-bottom: 1px solid ${({ theme }) => theme.color.border}; */\n\nsvg {\n  cursor: pointer;\n}\n\n> * {\n  margin-left: ${({ theme }) => theme.spacing.lg};\n}\n`\n\nconst Header = ({ children }) => (\n  <Root>\n    <p>HankMon Dashboard</p>\n  </Root>\n)\n\nexport default Header\n","import React from 'react'\nimport styled from 'styled-components'\n\nconst Root = styled.button`\n  ${({\n    theme: {\n      mixins: { clickable, style },\n    },\n  }) => clickable + style}\n\n  min-width: 75px;\n\n  height: ${({ theme }) => theme.shape.buttonHeight};\n\n  /* margin-left: ${({ theme }) => theme.spacing.sm}; */\n  padding: ${({ theme }) => theme.spacing.sm};\n  background: ${({ color, theme }) => theme.color[color]};\n`\n\nconst Button = ({ color, children, onClick }) => (\n  <Root color={color} onClick={onClick}>\n    {children}\n  </Root>\n)\n\nexport default Button\n","import auth0 from 'auth0-js'\nimport { navigate } from '@reach/router'\n\nconst isBrowser = typeof window !== 'undefined'\n\nconst appRoot = '/admin/charts'\n\nconst auth = isBrowser\n  ? new auth0.WebAuth({\n      domain: process.env.REACT_APP_AUTH0_DOMAIN,\n      clientID: process.env.REACT_APP_AUTH0_CLIENTID,\n      redirectUri:\n        window.location.origin + process.env.REACT_APP_AUTH0_CALLBACK,\n      responseType: 'token id_token',\n      scope: 'openid profile email',\n    })\n  : null\n\nexport const login = () => {\n  if (!isBrowser) return\n  auth.authorize()\n}\n\nexport const logout = () => {\n  if (!isBrowser) return\n\n  endSession()\n  navigate('/')\n}\n\nexport const checkAuth = () => {\n  if (!isBrowser) return\n  if (window.location.hostname === 'localhost') return true\n\n  const expiresAt = JSON.parse(localStorage.getItem('expires_at'))\n  const now = new Date().getTime()\n\n  if (now < expiresAt) return true\n}\n\nconst setSession = authResult => {\n  const expiresAt = JSON.stringify(\n    authResult.expiresIn * 1000 + new Date().getTime()\n  )\n\n  localStorage.setItem('access_token', authResult.accessToken)\n  localStorage.setItem('id_token', authResult.idToken)\n  localStorage.setItem('expires_at', expiresAt)\n}\n\nconst endSession = () => {\n  localStorage.removeItem('access_token')\n  localStorage.removeItem('id_token')\n  localStorage.removeItem('expires_at')\n}\n\nexport const handleAuthentication = () => {\n  if (!isBrowser) return\n\n  auth.parseHash((err, authResult) => {\n    if (err) console.error(err)\n    else if (authResult && authResult.accessToken && authResult.idToken) {\n      setSession(authResult)\n      navigate(appRoot)\n    }\n  })\n}\n","const border = `\n    border: 1px solid grey;\n    border-radius: 5px;\n`\n\nconst reset = `\n    display: block;\n    margin: 0;\n    padding: 0;\n`\n\nconst centerChild = `\n    display: flex;\n    justify-content: center;\n    align-items: center;\n`\n\nconst clickable = `\n    cursor: pointer;\n    outline: none;\n\n    :hover {\n        filter: brightness(90%);\n    }\n    :active {\n        filter: brightness(80%);\n    }\n`\n\nexport default { border, reset, centerChild, clickable }\n","const breakpoints = {\n  sm: 600,\n  md: 960,\n  lg: 1280,\n  layout: 820,\n}\n\nexport default breakpoints\n","import mixins from './mixins'\nimport mediaQueries from './mediaqueries'\n\nconst theme = {\n  mediaQueries,\n  mixins,\n  color: {\n    navBackground: '#272727',\n    background: '#1e1e1e',\n    icon: '#909090',\n    font: '#ddd',\n    // border: \"#363636\",\n    hover: '#3e3e3e',\n    active: '#4e4e4e',\n    selected: '#373737',\n    green: '#388e3c',\n    blue: '#3f51b5',\n    red: '#c62828',\n  },\n  font: {\n    size: {\n      link: '.65rem',\n      text: '.9rem',\n      heading: '2rem',\n    },\n    family: \"Verdana, 'Montserrat', sans-serif\",\n    leterSpacing: '.05rem',\n  },\n  spacing: { xs: '4px', sm: '8px', md: '12px', lg: '16px' },\n  layout: {\n    header: {\n      height: '65px',\n    },\n    navbar: {\n      size: '85px',\n    },\n  },\n  shape: {\n    borderRadius: '5px',\n    buttonHeight: '38px',\n  },\n  zIndex: [10, 20, 30],\n  // transitions: {},\n  // shadows: {},\n}\n\ntheme.mixins.style = `\n  font-family: ${theme.font.family};\n  font-size: ${theme.font.size.text}\n  letter-spacing: ${theme.font.letterSpacing}\n  color: ${theme.color.font};\n  background: ${theme.color.icon};\n  border-radius: ${theme.shape.borderRadius};\n`\ntheme.mixins.card = `\n  margin: ${theme.spacing.sm};\n  margin-bottom: 0;\n\n  padding: ${theme.spacing.sm};\n  background: ${theme.color.navBackground};\n`\n\nexport default theme\n","import breakpoints from './breakpoints'\n\nconst mediaQueries = Object.entries(breakpoints).reduce((acc, [key, value]) => {\n  acc[key] = `@media screen and (max-width: ${value}px)`\n  return acc\n}, {})\n\nexport default mediaQueries\n","import React from 'react'\nimport styled from 'styled-components'\nimport Button from '../components/ui/button'\nimport { login } from '../utils/auth'\nimport theme from '../style/theme'\n// import useTheme from '../utils/use-theme'\n\nconst Root = styled.div`\n  ${theme.mixins.card};\n  margin-right: 0;\n  margin-left: 0;\n`\n\nexport default () => (\n  <Root>\n    <Button onClick={login}>login</Button>\n  </Root>\n)\n","import React, { useEffect } from 'react'\n\nimport { handleAuthentication } from '../utils/auth'\n\nexport default () => {\n  useEffect(() => {\n    handleAuthentication()\n  })\n  return <p>loading...</p>\n}\n","import React from 'react'\n\nexport default () => <p>404: invalid route</p>\n","import { useEffect } from 'react'\nimport { navigate } from '@reach/router'\n\nexport default () => {\n  useEffect(() => {\n    navigate('/')\n  })\n\n  return null\n}\n","import axios from 'axios'\n\nconst api = axios.create({\n  headers: {\n    // 'Content-Type': 'application/json',\n    'X-Requested-With': 'XMLHttpRequest',\n    Accept: 'application/json; text/plain',\n  },\n  baseURL: window.location.origin + '/api/',\n})\n\nconst settings = [\n  { name: 'value1', value: 10, unit: 'a' },\n  { name: 'value2', value: 20, unit: 'b' },\n  { name: 'value3', value: 30, unit: 'c' },\n  { name: 'value4', value: 40, unit: 'd' },\n  { name: 'value5', value: 50, unit: 'e' },\n  { name: 'value6', value: 60, unit: 'f' },\n  { name: 'value7', value: 70, unit: 'g' },\n  { name: 'value8', value: 80, unit: 'h' },\n]\n\nexport const getDevices = async () => ['device1']\n\nexport const getSettings = async () => [settings]\n\n// used as array because context api expects multiple devices\nexport const getData = async () => {\n  try {\n    const responses = await Promise.all([api.get('test')])\n    console.log('api')\n    console.log(responses[0])\n\n    responses.forEach(({ headers }) => {\n      console.log(\n        headers['content-type'],\n        headers['content-type'] === 'application/json; charset=utf-8'\n      )\n      if (headers['content-type'] !== 'application/json')\n        throw Error('wrong data-type received')\n    })\n    return responses.map(({ data }) => data)\n  } catch (e) {\n    throw new Error('get data failed')\n  }\n}\n","import actions from './actions'\n\nexport const initialState = {\n  selected: {},\n  devices: [],\n  error: null,\n}\n\nexport const createActions = actions\n\nexport default (state, action) => {\n  switch (action.type) {\n    case 'get-devices':\n      const result = action.devices.map((name, index) => ({\n        name,\n        settings: action.settings[index],\n        data: action.data[index],\n      }))\n\n      return {\n        ...state,\n        selected: result[0],\n        devices: result,\n        getError: 'get error',\n      }\n    case 'select-device':\n      return {\n        ...state,\n        selected: state.devices.find(({ name }) => name === action.name),\n      }\n    case 'update-settings':\n      state.selected.settings = action.settings\n      return { ...state }\n    case 'error':\n      return {\n        ...state,\n        error: action.error,\n      }\n    default:\n      throw new Error()\n  }\n}\n","import { getDevices, getSettings, getData } from '../../utils/api'\n\n/* \n  wrapper around React's default dispatch function returned from useReducer\n  to allow async data fetching before updating context\n */\n\nexport default disptach => ({\n  async getDevices() {\n    try {\n      const [devices, settings, data] = await Promise.all([\n        getDevices(),\n        getSettings(),\n        getData(),\n      ])\n\n      disptach({ type: 'get-devices', devices, settings, data })\n    } catch (error) {\n      console.error(error)\n      disptach({ type: 'error', error: error.toString() })\n    }\n  },\n\n  async updateSettings(settings) {\n    // await axios.post()\n    disptach({ type: 'update-settings', settings })\n  },\n  selectDevice(name) {\n    disptach({ type: 'select-device', name })\n  },\n})\n","import React, { createContext, useEffect } from 'react'\nimport useAsyncReducer from '../../hooks/use-async-reducer'\nimport reducer, { initialState, createActions } from './reducer'\n\nconst DatabaseContext = createContext()\n\nexport const DatabaseContextProvider = ({ children }) => {\n  const [state, actions] = useAsyncReducer(reducer, initialState, createActions)\n\n  useEffect(() => {\n    actions.getDevices()\n  }, [actions])\n\n  return (\n    <DatabaseContext.Provider value={[state, actions]}>\n      {children}\n    </DatabaseContext.Provider>\n  )\n}\n\nexport default DatabaseContext\n","import { useReducer, useMemo } from 'react'\n\nexport default (reducer, initialState, createActions) => {\n  const [state, disptach] = useReducer(reducer, initialState)\n\n  const actions = useMemo(() => createActions(disptach), [\n    disptach,\n    createActions,\n  ])\n\n  return [state, actions]\n}\n","import breakpoints from '../style/breakpoints'\n\nfunction responsive(settings) {\n  if (window.innerWidth < breakpoints.sm && settings.sm !== undefined) {\n    return settings.sm\n  } else if (window.innerWidth < breakpoints.md && settings.md !== undefined) {\n    return settings.md\n  } else if (window.innerWidth < breakpoints.lg && settings.lg !== undefined) {\n    return settings.lg\n  } else if (\n    window.innerWidth < breakpoints.layout &&\n    settings.layout !== undefined\n  ) {\n    return settings.layout\n  } else {\n    return settings.default\n  }\n}\n\nexport default responsive\n","import React from 'react'\nimport { Link } from '@reach/router'\nimport styled from 'styled-components'\nimport responsive from '../utils/responsive'\n\nconst Root = styled(Link)`\n  ${({\n    theme: {\n      mixins: { centerChild, clickable },\n    },\n  }) => centerChild + clickable}\n  width: ${({ theme }) => theme.layout.navbar.size};\n  height: ${({ theme }) => theme.layout.navbar.size};\n  background: ${({ theme }) => theme.color.navBackground};\n\n  div {\n    svg {\n      color: ${({ theme }) => theme.color.icon};\n      font-size: 5rem;\n    }\n\n    p {\n      color: ${({ theme }) => theme.color.font};\n\n      font-size: ${({ theme }) => theme.font.size.link};\n      text-align: center;\n    }\n  }\n`\n\nconst NavBarLink = ({ Icon, label, theme }) => (\n  <Root\n    to={\n      '/admin/' +\n      label\n        .toLowerCase()\n        .split(' ')\n        .join('-')\n    }\n  >\n    <div>\n      <Icon size={responsive({ layout: 36, default: 48 })} />\n      <p>{label}</p>\n    </div>\n  </Root>\n)\n\nexport default NavBarLink\n","import React from 'react'\nimport styled from 'styled-components'\nimport NavBarLink from './nav-bar-link'\nimport { FaChartLine as Chart } from 'react-icons/fa'\nimport { MdDashboard as Dash, MdDevices as Devices } from 'react-icons/md'\nimport { FiLogOut as Logout } from 'react-icons/fi'\n\nconst Root = styled.nav`\n  ${({ theme }) => theme.mediaQueries.layout} {\n    right: 0;\n    display: flex;\n    justify-content: space-evenly;\n    height: auto;\n  }\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  height: ${({ theme }) => `calc(100vh - ${theme.layout.header.height}) `};\n  background: ${({ theme }) => theme.color.navBackground};\n`\n\nconst NavBar = ({ width }) => (\n  <Root width={width}>\n    <NavBarLink Icon={Chart} label=\"Charts\" />\n    <NavBarLink Icon={Dash} label=\"Control panel\" />\n    <NavBarLink Icon={Devices} label=\"Register\" />\n    <NavBarLink Icon={Logout} label=\"Logout\" />\n  </Root>\n)\n\nexport default NavBar\n","import React, { useState } from 'react'\nimport styled from 'styled-components'\nimport { IoIosArrowDown as DownArrow } from 'react-icons/io'\n\nconst Root = styled.div`\n  position: relative;\n  height: ${({ theme }) => theme.shape.buttonHeight};\n\n  .dropdown {\n    ${({ theme }) => theme.mixins.style};\n    position: absolute;\n    z-index: ${({ theme }) => theme.zIndex[0]};\n    min-width: 100px;\n    overflow: hidden;\n    outline: none;\n    user-select: none;\n  }\n\n  .selected {\n    display: flex;\n    align-items: center;\n\n    p {\n      flex: 1 1 auto;\n    }\n  }\n\n  .selected,\n  option {\n    ${({ theme }) => theme.mixins.clickable};\n    height: ${({ theme }) => theme.shape.buttonHeight};\n    padding: ${({ theme }) => theme.spacing.sm};\n    background: ${({ theme }) => theme.color.icon};\n  }\n`\n\nexport default ({ selected, options, handleSelect }) => {\n  // const [value, setValue] = useState(list[0])\n  const [toggled, setToggled] = useState(false)\n\n  const handleToggle = () => {\n    setToggled(!toggled)\n  }\n\n  const handleKeyDown = () => {}\n\n  return (\n    <Root>\n      <div\n        className=\"dropdown\"\n        onClick={handleToggle}\n        onKeyDown={handleKeyDown}\n        role=\"listbox\"\n        tabIndex={0}\n      >\n        <div className=\"selected\">\n          <p>{selected}</p>\n          <DownArrow size={18} />\n        </div>\n        {toggled && (\n          <div>\n            {options\n              .filter(item => item !== selected)\n              .map(item => (\n                <option\n                  key={item}\n                  value={item}\n                  onClick={handleSelect}\n                  onKeyDown={handleKeyDown}\n                >\n                  {item}\n                </option>\n              ))}\n          </div>\n        )}\n      </div>\n    </Root>\n  )\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport Select from './select'\n\nconst Root = styled.div`\n  display: flex;\n  align-items: center;\n  p {\n    margin-right: ${({ theme }) => theme.spacing.sm};\n  }\n`\n\nexport default ({ selected, devices, selectDevice }) => {\n  const SelectProps = {\n    select: selected.name,\n    options: devices.map(({ name }) => name),\n    handleSelect({ target }) {\n      selectDevice(target.value)\n    },\n  }\n  return (\n    <Root>\n      <p>select device:</p>\n      <Select {...SelectProps} />\n    </Root>\n  )\n}\n","import { useContext } from 'react'\nimport DatabaseContext from '../context/database/database'\n\nexport const useDatabaseContextState = () => useContext(DatabaseContext)[0]\nexport const useDatabaseContextActions = () => useContext(DatabaseContext)[1]\n\nexport default () => useContext(DatabaseContext)\n","import parse from 'csv-parse/lib/sync'\n\nexport const parseCSVData = data =>\n  parse(data, {\n    columns: true,\n    skip_empty_lines: true,\n  })\n\nexport const filterData = (data, ...keys) =>\n  data.map(obj => {\n    const filtered = {}\n    for (const key of keys) {\n      filtered[key] = obj[key]\n    }\n    return filtered\n  })\n\nconst fileMeta = 'data:text/csv;charset=utf-8,'\n\nexport const makeCSVFile = data => fileMeta + encodeURIComponent(data)\n","import React from 'react'\nimport Button from './button'\nimport { useDatabaseContextState } from '../../hooks/use-database-context'\nimport { makeCSVFile } from '../../utils/data'\n\nexport default () => {\n  const { selected } = useDatabaseContextState()\n\n  const file = selected ? makeCSVFile(selected.csv) : null\n\n  return file ? (\n    <a href={file} download=\"data\">\n      <Button>Download CSV</Button>\n    </a>\n  ) : (\n    <Button />\n  )\n}\n","import React from 'react'\nimport styled from 'styled-components'\n\nconst Root = styled.div`\n  ${({ theme }) => theme.mixins.card}\n`\n\nexport default ({ children }) => <Root>{children}</Root>\n","import React from 'react'\nimport Card from './card'\n\nexport default ({ children = 'caught error' }) => {\n  return (\n    <Card>\n      <p>{children}</p>\n    </Card>\n  )\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport DeviceSelect from '../components/ui/device-select'\nimport Download from '../components/ui/download'\nimport Error from '../components/error'\n\nimport useDatabaseContext from '../hooks/use-database-context'\n\nconst Root = styled.div`\n  ${({ theme }) => theme.mixins.card}\n`\n\nconst Menu = styled.div`\n  display: flex;\n  justify-content: space-between;\n`\n\nconst Status = styled.p`\n  padding-top: ${({ theme }) => theme.spacing.xs};\n  font-size: ${({ theme }) => theme.font.size.link};\n`\n\nexport default () => {\n  const [{ selected, devices, error }, { selectDevice }] = useDatabaseContext()\n\n  if (error) return <Error>{error}</Error>\n\n  return (\n    <Root>\n      <Menu>\n        <DeviceSelect {...{ selected, devices, selectDevice }} />\n        <Download />\n      </Menu>\n      <Status>status: message</Status>\n    </Root>\n  )\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport StatusBar from './status-bar'\n\nconst Root = styled.main`\n  ${({ theme }) => theme.mediaQueries.layout} {\n    height: ${({ theme }) =>\n      `calc(100vh - ${theme.layout.header.height} - ${theme.layout.navbar.size}) `};\n    margin-left: 0;\n  }\n  height: ${({ theme }) => `calc(100vh - ${theme.layout.header.height}) `};\n  margin-left: ${({ theme }) => theme.layout.navbar.size};\n  overflow-y: auto;\n`\n\nconst Main = ({ children }) => {\n  return (\n    <Root>\n      <StatusBar />\n      {children}\n    </Root>\n  )\n}\n\nexport default Main\n","import React from 'react'\nimport { DatabaseContextProvider } from '../context/database/database'\nimport NavBar from './nav-bar'\nimport Main from './main'\n\nconst Layout = ({ children }) => (\n  <>\n    <DatabaseContextProvider>\n      <Main>{children}</Main>\n    </DatabaseContextProvider>\n    <NavBar />\n  </>\n)\n\nexport default Layout\n","function replaceMethods(...list) {\n  for (const item of list) {\n    item.prototype.componentDidUpdate = item.prototype.componentWillReceiveProps\n    delete item.prototype.componentWillReceiveProps\n  }\n}\n\nexport default replaceMethods\n","import React from 'react'\nimport {\n  ResponsiveContainer,\n  LineChart,\n  CartesianAxis,\n  XAxis,\n  YAxis,\n  Tooltip,\n  Legend,\n  Line,\n} from 'recharts'\nimport Card from './card'\nimport replace from '../utils/replace-deprecated-methods'\n\n// replaces deprecated method to suppress error warning\nreplace(LineChart, Line)\n\nexport default ({ data, dataKey }) => {\n  return (\n    <Card>\n      <ResponsiveContainer width=\"100%\" height={300}>\n        <LineChart data={data} margin={{ left: -30, right: 10 }}>\n          <CartesianAxis />\n          <XAxis />\n          <YAxis />\n          <Tooltip />\n          <Legend />\n          <Line dot={false} type=\"monotone\" dataKey={dataKey} stroke=\"yellow\" />\n        </LineChart>\n      </ResponsiveContainer>\n    </Card>\n  )\n}\n","import React from 'react'\nimport LineChart from '../../components/line-chart'\nimport Error from '../../components/error'\nimport { useDatabaseContextState } from '../../hooks/use-database-context'\nimport { filterData } from '../../utils/data'\n\nexport default () => {\n  const {\n    selected: { data },\n    error,\n  } = useDatabaseContextState()\n\n  if (error) return <Error />\n\n  // don't render while wating for data\n  if (data) {\n    const keys = ['hum', 'temp']\n    // const data = parseCSVData(csv)\n    const hum = filterData(data, keys[0])\n    const temp = filterData(data, keys[1])\n\n    return (\n      <>\n        <LineChart data={hum} dataKey={keys[0]} />\n        <LineChart data={temp} dataKey={keys[1]} />\n      </>\n    )\n  }\n  return null\n}\n","import React from 'react'\nimport styled from 'styled-components'\n\nconst Root = styled.label`\n  display: block;\n\n  input {\n    ${({\n      theme: {\n        mixins: { style },\n      },\n    }) => style}\n\n    width: 100%;\n\n    padding: ${({ theme }) => theme.spacing.xs};\n    outline: none;\n\n    &:focus {\n      filter: brightness(80%);\n    }\n  }\n`\n\nexport default ({ value, onChange }) => {\n  return (\n    <Root>\n      <input type=\"text\" value={value} onChange={onChange} />\n    </Root>\n  )\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport Card from '../card'\nimport Input from './input'\nimport Button from './button'\n\nconst Root = styled.form`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  margin-left: ${({ theme }) => theme.spacing.sm};\n`\n\nconst Setting = styled.div`\n  ${({ theme }) => theme.mediaQueries.layout} {\n    flex-basis: 33%;\n  }\n  flex: 1 1 20%;\n\n  margin-top: ${({ theme }) => theme.spacing.sm};\n  margin-right: ${({ theme }) => theme.spacing.sm};\n  padding: ${({ theme }) => theme.spacing.lg};\n  background: ${({ theme }) => theme.color.navBackground};\n\n  > * {\n    margin-top: ${({ theme }) => theme.spacing.lg};\n  }\n`\n\nconst Warning = styled.p`\n  margin-top: ${({ theme }) => theme.spacing.sm};\n  color: ${({ theme }) => theme.color.red};\n`\n\nexport default ({ list, onSubmit, warning }) => (\n  <>\n    <Root>\n      {list.map(({ value, current, unit, name, handleChange, warning }) => (\n        <Setting key={name}>\n          <p>{name}</p>\n          <p>curruent: {current + unit}</p>\n          <Input value={value} onChange={handleChange} />\n          {warning && <Warning>{warning}</Warning>}\n        </Setting>\n      ))}\n    </Root>\n    <Card>\n      <Button onClick={onSubmit}>Apply</Button>\n      {warning && <Warning>{warning}</Warning>}\n    </Card>\n  </>\n)\n","import React from 'react'\nimport styled from 'styled-components'\nimport Button from './button'\n\nconst Root = styled.div`\n  ${({ theme }) => theme.mixins.centerChild}\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: ${({ theme }) => theme.zIndex[0]};\n\n  .opaque-cover {\n    position: fixed;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    background: ${({ theme }) => theme.color.background};\n    opacity: 0.5;\n  }\n\n  main {\n    z-index: ${({ theme }) => theme.zIndex[1]};\n    width: 60vw;\n    max-width: 650px;\n\n    padding: ${({ theme }) => theme.spacing.sm};\n    text-align: center;\n    background: ${({ theme }) => theme.color.navBackground};\n\n    .content {\n      min-height: 400px;\n    }\n\n    p {\n      padding: ${({ theme }) => theme.spacing.sm};\n    }\n\n    button {\n      margin-left: ${({ theme }) => theme.spacing.sm};\n    }\n  }\n`\n\nconst Alert = ({ settings, children, onAccept, onCancel }) => (\n  <Root>\n    <div className=\"opaque-cover\" />\n    <main>\n      <div className=\"content\">{children}</div>\n      <div>\n        <Button color=\"green\" onClick={onAccept}>\n          accept\n        </Button>\n        <Button onClick={onCancel}>cancel</Button>\n      </div>\n    </main>\n  </Root>\n)\n\nexport default Alert\n","import React from 'react'\nimport Alert from './alert'\n\nexport default ({ list, onAccept, onCancel }) => (\n  <Alert onAccept={onAccept} onCancel={onCancel}>\n    <p>summary</p>\n    {list.map(({ name, value, current, unit }) => {\n      return value === '' ? null : (\n        <p key={name}>\n          {name}: {current + unit} => {value + unit}\n        </p>\n      )\n    })}\n  </Alert>\n)\n","const value = (value, current) => {\n  if (+value === current) return 'current value already set'\n  else if (isNaN(+value)) return 'invalid input'\n  else if (value === '') return ''\n  else return ''\n}\n\nconst handler = {\n  get(target, name) {\n    return target.hasOwnProperty(name) ? target[name] : value\n  },\n}\n\nconst cases = { value }\n\nexport default new Proxy(cases, handler)\n","import React, { useState } from 'react'\nimport Settings from '../../components/ui/settings'\nimport Summary from '../../components/ui/summary'\nimport useSettings from '../../hooks/use-settings'\nimport Error from '../../components/error'\n\nexport default () => {\n  const [alert, setAlert] = useState(false)\n  const [warning, setWarning] = useState('')\n  const [error, settings, update, reset] = useSettings()\n\n  const handleSubmit = e => {\n    if (settings.every(props => props.value === '')) {\n      setWarning('no valus entered')\n    } else if (settings.some(props => props.warning)) {\n      setWarning('invalid input')\n    } else {\n      setWarning('')\n      setAlert(true)\n    }\n  }\n\n  const handleCancel = () => {\n    setAlert(false)\n  }\n\n  const handleAccept = () => {\n    setAlert(false)\n\n    const result = settings.map(({ name, current, value, unit }) => ({\n      name,\n      value: value === '' ? current : +value,\n      unit,\n    }))\n    update(result)\n\n    reset()\n  }\n\n  if (error) return <Error />\n\n  return settings.length ? (\n    <>\n      <Settings list={settings} onSubmit={handleSubmit} warning={warning} />\n      {alert && (\n        <Summary\n          list={settings}\n          onAccept={handleAccept}\n          onCancel={handleCancel}\n        />\n      )}\n    </>\n  ) : null\n}\n","import { useState, useEffect } from 'react'\nimport useDatabaseContext from './use-database-context'\nimport validate from '../utils/validate-settings'\n\nexport default () => {\n  const [\n    {\n      selected: { settings },\n      error,\n    },\n    { updateSettings: update },\n  ] = useDatabaseContext()\n\n  const [list, setList] = useState([])\n\n  useEffect(() => {\n    if (!settings) return\n\n    const list = settings.map(({ name, value: current, unit }, index) => {\n      return {\n        name,\n        current,\n        unit,\n        value: '',\n        warning: '',\n        handleChange({ target: { value } }) {\n          let ref\n          const { name, current } = (ref = list[index])\n\n          ref.value = value\n          ref.warning = validate[name](value, current)\n\n          setList([...list])\n        },\n      }\n    })\n\n    setList(list)\n  }, [settings])\n\n  const reset = () => {\n    list.forEach(item => (item.value = ''))\n    setList([...list])\n  }\n\n  return [error, list, update, reset]\n}\n","import React from 'react'\nimport Card from '../../components/card'\n\nexport default () => (\n  <Card>\n    <p>Register</p>\n  </Card>\n)\n","import { useEffect } from 'react'\n\nimport { logout } from '../../utils/auth'\n\nexport default () => {\n  useEffect(() => {\n    logout()\n    return () => {}\n  })\n\n  return null\n}\n","import React from 'react'\nimport { Router } from '@reach/router'\nimport Login from './login'\nimport Callback from './callback'\nimport InvalidRoute from './404'\nimport NavigateRoute from './navigate-root'\n\nimport Layout from '../layout/layout'\nimport Charts from './admin/charts'\nimport ControlPanel from './admin/control-panel'\nimport Register from './admin/register'\nimport Logout from './admin/logout'\nimport { checkAuth } from '../utils/auth'\n\nexport default () => {\n  const authorized = checkAuth()\n\n  console.log(authorized)\n\n  return (\n    <Router>\n      <Login path=\"/\" />\n      <Callback path=\"callback\" />\n      {authorized ? (\n        <Layout path=\"admin\">\n          <Charts path=\"charts\" />\n          <ControlPanel path=\"control-panel\" />\n          <Register path=\"register\" />\n          <Logout path=\"logout\" />\n          <InvalidRoute default />\n        </Layout>\n      ) : null}\n      <NavigateRoute default />\n    </Router>\n  )\n}\n","import React from 'react'\nimport Header from './layout/header'\nimport styled, { ThemeProvider } from 'styled-components'\nimport Router from './routes/router'\nimport theme from './style/theme'\n\nconst Root = styled.div`\n  height: 100vh;\n  color: ${({ theme }) => theme.color.font};\n  font-size: ${({ theme }) => theme.font.size.text};\n  font-family: ${({ theme }) => theme.font.family};\n  letter-spacing: ${({ theme }) => theme.font.leterSpacing};\n  background: ${({ theme }) => theme.color.background};\n`\n\nexport default () => {\n  return (\n    <ThemeProvider theme={theme}>\n      <Root>\n        <Header />\n        <Router />\n      </Root>\n    </ThemeProvider>\n  )\n}\n","import './style/global.css'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './app'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}